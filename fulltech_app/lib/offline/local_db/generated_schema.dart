// GENERATED FILE. Do not edit by hand.
// Source: fulltech_app/lib/offline/schema_snapshot.json

class OfflineTableDef {
  final String name;
  final String createSql;
  final List<OfflineColumnDef> columns;

  const OfflineTableDef({required this.name, required this.createSql, required this.columns});
}

class OfflineColumnDef {
  final String name;
  final String type;
  final bool nullable;
  final String? defaultSql;

  const OfflineColumnDef({required this.name, required this.type, required this.nullable, this.defaultSql});
}

const offlineTableDefs = <OfflineTableDef>[
  OfflineTableDef(
    name: 'ai_message_audits',
    createSql: r'''CREATE TABLE IF NOT EXISTS ai_message_audits(
  chat_id TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  final_text TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  message_id TEXT NOT NULL,
  suggested_text TEXT,
  suggestion_id TEXT,
  used_knowledge TEXT NOT NULL DEFAULT '[]',
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'chat_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'final_text', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'message_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'suggested_text', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'suggestion_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'used_knowledge', type: 'TEXT', nullable: false, defaultSql: '\'[]\''),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'ai_settings',
    createSql: r'''CREATE TABLE IF NOT EXISTS ai_settings(
  business_data TEXT NOT NULL DEFAULT '{}',
  enabled INTEGER NOT NULL DEFAULT 1,
  id INTEGER PRIMARY KEY,
  prompt_version INTEGER NOT NULL DEFAULT 1,
  quick_replies_enabled INTEGER NOT NULL DEFAULT 1,
  rules TEXT,
  system_prompt TEXT,
  tone TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'business_data', type: 'TEXT', nullable: false, defaultSql: '\'{}\''),
    OfflineColumnDef(name: 'enabled', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'id', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'prompt_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'quick_replies_enabled', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'rules', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'system_prompt', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'tone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'ai_suggestions',
    createSql: r'''CREATE TABLE IF NOT EXISTS ai_suggestions(
  chat_id TEXT,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  customer_text TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  last_customer_message_id TEXT,
  suggestion_text TEXT NOT NULL,
  used_knowledge TEXT NOT NULL DEFAULT '[]',
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'chat_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'customer_text', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'last_customer_message_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'suggestion_text', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'used_knowledge', type: 'TEXT', nullable: false, defaultSql: '\'[]\''),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'audit_log',
    createSql: r'''CREATE TABLE IF NOT EXISTS audit_log(
  action TEXT NOT NULL,
  actor_user_id TEXT NOT NULL,
  company_id TEXT NOT NULL,
  created_at TEXT NOT NULL,
  entity TEXT NOT NULL,
  entity_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  meta TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (actor_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'action', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'actor_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'meta', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'CategoriaProducto',
    createSql: r'''CREATE TABLE IF NOT EXISTS "CategoriaProducto"(
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'Cliente',
    createSql: r'''CREATE TABLE IF NOT EXISTS "Cliente"(
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'company_settings',
    createSql: r'''CREATE TABLE IF NOT EXISTS company_settings(
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_chat_meta',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_chat_meta(
  assigned_user_id TEXT,
  chat_id TEXT PRIMARY KEY,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  important INTEGER NOT NULL DEFAULT 0,
  internal_note TEXT,
  product_id TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (chat_id) REFERENCES crm_chats(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'chat_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'important', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'internal_note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'product_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_chats',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_chats(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  display_name TEXT,
  id TEXT PRIMARY KEY,
  last_message_at TEXT,
  last_message_preview TEXT,
  phone TEXT,
  status TEXT NOT NULL DEFAULT 'activo',
  unread_count INTEGER NOT NULL DEFAULT 0,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  wa_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'display_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'last_message_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'last_message_preview', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'phone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'activo\''),
    OfflineColumnDef(name: 'unread_count', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'wa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_messages',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_messages(
  body TEXT,
  chat_id TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  deleted_at TEXT,
  direction TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  error TEXT,
  from_me INTEGER NOT NULL,
  id TEXT PRIMARY KEY,
  media_mime TEXT,
  media_name TEXT,
  media_size INTEGER,
  media_url TEXT,
  message_id TEXT,
  message_type TEXT NOT NULL,
  quoted_message_id TEXT,
  remote_message_id TEXT,
  status TEXT NOT NULL DEFAULT 'received',
  sync_version INTEGER NOT NULL DEFAULT 1,
  text TEXT,
  thread_id TEXT NOT NULL,
  timestamp TEXT NOT NULL,
  type TEXT NOT NULL DEFAULT 'text',
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (chat_id) REFERENCES "CrmChat"(id),
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (thread_id) REFERENCES crm_threads(id),
  FOREIGN KEY (chat_id) REFERENCES crm_chats(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'body', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'chat_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'direction', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'from_me', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'media_mime', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'media_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'media_size', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'media_url', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'message_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'message_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'quoted_message_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'remote_message_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'received\''),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'text', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'timestamp', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'type', type: 'TEXT', nullable: false, defaultSql: '\'text\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_messages_legacy',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_messages_legacy(
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  thread_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (thread_id) REFERENCES "CrmThread"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_tasks',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_tasks(
  assigned_user_id TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  deleted_at TEXT,
  empresa_id TEXT NOT NULL,
  fecha_hora TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  nota TEXT,
  status TEXT NOT NULL DEFAULT 'pendiente',
  sync_version INTEGER NOT NULL DEFAULT 1,
  thread_id TEXT NOT NULL,
  tipo TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (thread_id) REFERENCES crm_threads(id),
  FOREIGN KEY (assigned_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'fecha_hora', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'nota', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'pendiente\''),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'tipo', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_tasks_legacy',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_tasks_legacy(
  assigned_user_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  thread_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (thread_id) REFERENCES "CrmThread"(id),
  FOREIGN KEY (assigned_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_threads',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_threads(
  assigned_user_id TEXT,
  canal TEXT NOT NULL DEFAULT 'whatsapp',
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  customer_id TEXT,
  deleted_at TEXT,
  display_name TEXT,
  empresa_id TEXT NOT NULL,
  estado_crm TEXT NOT NULL DEFAULT 'pendiente',
  id TEXT PRIMARY KEY,
  last_message_at TEXT,
  last_message_preview TEXT,
  phone_number TEXT NOT NULL,
  pinned INTEGER NOT NULL DEFAULT 0,
  primary_interest TEXT,
  sync_version INTEGER NOT NULL DEFAULT 1,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (customer_id) REFERENCES customers(id),
  FOREIGN KEY (assigned_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'canal', type: 'TEXT', nullable: false, defaultSql: '\'whatsapp\''),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'display_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'estado_crm', type: 'TEXT', nullable: false, defaultSql: '\'pendiente\''),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'last_message_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'last_message_preview', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'phone_number', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'pinned', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'primary_interest', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_threads_legacy',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_threads_legacy(
  assigned_user_id TEXT,
  customer_id TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (customer_id) REFERENCES "Customer"(id),
  FOREIGN KEY (assigned_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'crm_webhook_events',
    createSql: r'''CREATE TABLE IF NOT EXISTS crm_webhook_events(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  event_id TEXT NOT NULL,
  event_type TEXT,
  headers TEXT,
  id TEXT PRIMARY KEY,
  ip_address TEXT,
  payload TEXT NOT NULL,
  processed INTEGER DEFAULT 0,
  processed_at TEXT,
  processing_error TEXT,
  raw_body TEXT,
  source TEXT DEFAULT 'evolution',
  user_agent TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'event_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'event_type', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'headers', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'ip_address', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'payload', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'processed', type: 'INTEGER', nullable: true, defaultSql: '0'),
    OfflineColumnDef(name: 'processed_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'processing_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'raw_body', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'source', type: 'TEXT', nullable: true, defaultSql: '\'evolution\''),
    OfflineColumnDef(name: 'user_agent', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'customers',
    createSql: r'''CREATE TABLE IF NOT EXISTS customers(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  deleted_at TEXT,
  direccion TEXT,
  email TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  nombre TEXT NOT NULL,
  notas TEXT,
  origen TEXT NOT NULL DEFAULT 'whatsapp',
  sync_version INTEGER NOT NULL DEFAULT 1,
  tags TEXT NOT NULL DEFAULT '{}',
  telefono TEXT NOT NULL,
  ubicacion_mapa TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'direccion', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'email', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'nombre', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notas', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'origen', type: 'TEXT', nullable: false, defaultSql: '\'whatsapp\''),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'tags', type: 'TEXT', nullable: false, defaultSql: '\'{}\''),
    OfflineColumnDef(name: 'telefono', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'ubicacion_mapa', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'customers_legacy',
    createSql: r'''CREATE TABLE IF NOT EXISTS customers_legacy(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  deleted_at TEXT,
  direccion TEXT,
  email TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  nombre TEXT NOT NULL,
  notas TEXT,
  origen TEXT NOT NULL DEFAULT 'whatsapp',
  sync_version INTEGER NOT NULL DEFAULT 1,
  tags TEXT DEFAULT '{}',
  telefono TEXT NOT NULL,
  ubicacion_mapa TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'direccion', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'email', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'nombre', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notas', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'origen', type: 'TEXT', nullable: false, defaultSql: '\'whatsapp\''),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'tags', type: 'TEXT', nullable: true, defaultSql: '\'{}\''),
    OfflineColumnDef(name: 'telefono', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'ubicacion_mapa', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'Empresa',
    createSql: r'''CREATE TABLE IF NOT EXISTS "Empresa"(
  id TEXT PRIMARY KEY,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'inventory_audit_items',
    createSql: r'''CREATE TABLE IF NOT EXISTS inventory_audit_items(
  action_taken TEXT NOT NULL DEFAULT 'PENDIENTE',
  audit_id TEXT NOT NULL,
  counted_qty INTEGER NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  diff_qty INTEGER NOT NULL,
  expected_qty INTEGER NOT NULL,
  explanation TEXT,
  id TEXT PRIMARY KEY,
  producto_id TEXT NOT NULL,
  reason TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (audit_id) REFERENCES "InventoryAudit"(id),
  FOREIGN KEY (producto_id) REFERENCES "Producto"(id),
  FOREIGN KEY (audit_id) REFERENCES inventory_audits(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'action_taken', type: 'TEXT', nullable: false, defaultSql: '\'PENDIENTE\''),
    OfflineColumnDef(name: 'audit_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'counted_qty', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'diff_qty', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'expected_qty', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'explanation', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'producto_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'reason', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'inventory_audits',
    createSql: r'''CREATE TABLE IF NOT EXISTS inventory_audits(
  audit_from_date TEXT NOT NULL,
  audit_to_date TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  notes TEXT,
  status TEXT NOT NULL DEFAULT 'BORRADOR',
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  week_label TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'audit_from_date', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'audit_to_date', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'BORRADOR\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'week_label', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'letter_exports',
    createSql: r'''CREATE TABLE IF NOT EXISTS letter_exports(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  file_url TEXT,
  format TEXT NOT NULL DEFAULT 'PDF',
  id TEXT PRIMARY KEY,
  letter_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (letter_id) REFERENCES "Letter"(id),
  FOREIGN KEY (letter_id) REFERENCES letters(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'file_url', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'format', type: 'TEXT', nullable: false, defaultSql: '\'PDF\''),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'letter_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'letters',
    createSql: r'''CREATE TABLE IF NOT EXISTS letters(
  body TEXT NOT NULL,
  company_id TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  customer_email TEXT,
  customer_name TEXT NOT NULL,
  customer_phone TEXT,
  id TEXT PRIMARY KEY,
  letter_type TEXT NOT NULL,
  quotation_id TEXT,
  status TEXT NOT NULL DEFAULT 'DRAFT',
  subject TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (quotation_id) REFERENCES "Quotation"(id),
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (quotation_id) REFERENCES quotations(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'body', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'customer_email', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'customer_phone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'letter_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'quotation_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'DRAFT\''),
    OfflineColumnDef(name: 'subject', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_installation_reports',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_installation_reports(
  created_by_tech_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  job_id TEXT NOT NULL,
  tech_notes TEXT,
  work_done_summary TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (job_id) REFERENCES "OperationsJob"(id),
  FOREIGN KEY (created_by_tech_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_by_tech_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'job_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'tech_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'work_done_summary', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_jobs',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_jobs(
  assigned_tech_id TEXT,
  created_by_user_id TEXT NOT NULL,
  crm_customer_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  notes TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (assigned_tech_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (crm_customer_id) REFERENCES "Customer"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_tech_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'crm_customer_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_schedule',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_schedule(
  assigned_tech_id TEXT NOT NULL,
  customer_availability_notes TEXT,
  id TEXT PRIMARY KEY,
  job_id TEXT NOT NULL,
  scheduled_date TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (job_id) REFERENCES "OperationsJob"(id),
  FOREIGN KEY (assigned_tech_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_tech_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'customer_availability_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'job_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'scheduled_date', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_survey_media',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_survey_media(
  id TEXT PRIMARY KEY,
  survey_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (survey_id) REFERENCES "OperationsSurvey"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'survey_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_surveys',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_surveys(
  address_confirmed TEXT,
  created_by_tech_id TEXT NOT NULL,
  future_opportunities TEXT,
  id TEXT PRIMARY KEY,
  job_id TEXT NOT NULL,
  site_notes TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (job_id) REFERENCES "OperationsJob"(id),
  FOREIGN KEY (created_by_tech_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'address_confirmed', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_by_tech_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'future_opportunities', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'job_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'site_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'operations_warranty_tickets',
    createSql: r'''CREATE TABLE IF NOT EXISTS operations_warranty_tickets(
  assigned_tech_id TEXT,
  id TEXT PRIMARY KEY,
  job_id TEXT NOT NULL,
  reason TEXT NOT NULL,
  resolution_notes TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (job_id) REFERENCES "OperationsJob"(id),
  FOREIGN KEY (assigned_tech_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'assigned_tech_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'job_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'reason', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'resolution_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_employee_summaries',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_employee_summaries(
  base_salary_amount REAL NOT NULL,
  commissions_amount REAL NOT NULL,
  created_at TEXT NOT NULL,
  currency TEXT NOT NULL DEFAULT 'DOP',
  employee_user_id TEXT NOT NULL,
  gross_amount REAL NOT NULL,
  id TEXT PRIMARY KEY,
  net_amount REAL NOT NULL,
  other_deductions_amount REAL NOT NULL,
  other_earnings_amount REAL NOT NULL,
  run_id TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'READY',
  statutory_deductions_amount REAL NOT NULL,
  updated_at TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (run_id) REFERENCES "PayrollRun"(id),
  FOREIGN KEY (employee_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (run_id) REFERENCES payroll_runs(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'base_salary_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'commissions_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'currency', type: 'TEXT', nullable: false, defaultSql: '\'DOP\''),
    OfflineColumnDef(name: 'employee_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'gross_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'net_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'other_deductions_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'other_earnings_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'run_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'READY\''),
    OfflineColumnDef(name: 'statutory_deductions_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_line_items',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_line_items(
  amount REAL NOT NULL,
  concept_code TEXT NOT NULL,
  concept_name TEXT NOT NULL,
  created_at TEXT NOT NULL,
  employee_summary_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  meta TEXT,
  type TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (employee_summary_id) REFERENCES "PayrollEmployeeSummary"(id),
  FOREIGN KEY (employee_summary_id) REFERENCES payroll_employee_summaries(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'concept_code', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'concept_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'employee_summary_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'meta', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_movements',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_movements(
  amount REAL NOT NULL,
  approved_by_user_id TEXT,
  company_id TEXT NOT NULL,
  concept_code TEXT NOT NULL,
  concept_name TEXT NOT NULL,
  created_at TEXT NOT NULL,
  created_by_user_id TEXT NOT NULL,
  effective_date TEXT NOT NULL,
  employee_user_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  movement_type TEXT NOT NULL,
  note TEXT,
  period_id TEXT,
  source TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'PENDING',
  updated_at TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (employee_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (period_id) REFERENCES "PayrollPeriod"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (approved_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (period_id) REFERENCES payroll_periods(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'approved_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'concept_code', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'concept_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'effective_date', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'employee_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'movement_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'period_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'source', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'PENDING\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_payslips',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_payslips(
  created_at TEXT NOT NULL,
  employee_user_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  pdf_url TEXT,
  run_id TEXT NOT NULL,
  snapshot TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (run_id) REFERENCES "PayrollRun"(id),
  FOREIGN KEY (employee_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (run_id) REFERENCES payroll_runs(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'employee_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'pdf_url', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'run_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'snapshot', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_periods',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_periods(
  company_id TEXT NOT NULL,
  created_at TEXT NOT NULL,
  date_from TEXT NOT NULL,
  date_to TEXT NOT NULL,
  half TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  month INTEGER NOT NULL,
  status TEXT NOT NULL DEFAULT 'OPEN',
  updated_at TEXT NOT NULL,
  year INTEGER NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'date_from', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'date_to', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'half', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'month', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'OPEN\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'year', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'payroll_runs',
    createSql: r'''CREATE TABLE IF NOT EXISTS payroll_runs(
  approved_by_user_id TEXT,
  company_id TEXT NOT NULL,
  created_at TEXT NOT NULL,
  created_by_user_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  notes TEXT,
  paid_at TEXT,
  paid_by_user_id TEXT,
  period_id TEXT NOT NULL,
  status TEXT NOT NULL DEFAULT 'DRAFT',
  updated_at TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (period_id) REFERENCES "PayrollPeriod"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (approved_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (paid_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (period_id) REFERENCES payroll_periods(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'approved_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'paid_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'paid_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'period_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: '\'DRAFT\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_credit_accounts',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_credit_accounts(
  balance REAL NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  customer_id TEXT,
  customer_name TEXT NOT NULL,
  due_date TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  paid REAL NOT NULL DEFAULT 0,
  sale_id TEXT NOT NULL,
  status TEXT NOT NULL,
  total REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (sale_id) REFERENCES pos_sales(id),
  FOREIGN KEY (customer_id) REFERENCES customers_legacy(id),
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'balance', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'due_date', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'paid', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'sale_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_fiscal_sequences',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_fiscal_sequences(
  active INTEGER NOT NULL DEFAULT 1,
  current_number TEXT NOT NULL DEFAULT 0,
  doc_type TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  max_number TEXT,
  prefix TEXT,
  series TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'active', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'current_number', type: 'TEXT', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'doc_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'max_number', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'prefix', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'series', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_purchase_order_items',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_purchase_order_items(
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  line_total REAL NOT NULL,
  product_id TEXT NOT NULL,
  product_name TEXT NOT NULL,
  purchase_order_id TEXT NOT NULL,
  qty REAL NOT NULL,
  unit_cost REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (purchase_order_id) REFERENCES "PosPurchaseOrder"(id),
  FOREIGN KEY (purchase_order_id) REFERENCES pos_purchase_orders(id),
  FOREIGN KEY (product_id) REFERENCES "Producto"(id),
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'line_total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'product_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'product_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'purchase_order_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'qty', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'unit_cost', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_purchase_orders',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_purchase_orders(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT,
  empresa_id TEXT NOT NULL,
  expected_date TEXT,
  id TEXT PRIMARY KEY,
  itbis_total REAL NOT NULL DEFAULT 0,
  note TEXT,
  status TEXT NOT NULL,
  subtotal REAL NOT NULL,
  supplier_id TEXT,
  supplier_name TEXT NOT NULL,
  total REAL NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (supplier_id) REFERENCES pos_suppliers(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'expected_date', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'itbis_total', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'subtotal', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'supplier_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'supplier_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_sale_items',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_sale_items(
  discount_amount REAL NOT NULL DEFAULT 0,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  itbis_amount REAL NOT NULL DEFAULT 0,
  line_total REAL NOT NULL,
  product_id TEXT NOT NULL,
  product_name TEXT NOT NULL,
  qty REAL NOT NULL,
  sale_id TEXT NOT NULL,
  unit_price REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (sale_id) REFERENCES "PosSale"(id),
  FOREIGN KEY (sale_id) REFERENCES pos_sales(id),
  FOREIGN KEY (product_id) REFERENCES "Producto"(id),
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'discount_amount', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'itbis_amount', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'line_total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'product_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'product_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'qty', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'sale_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'unit_price', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_sales',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_sales(
  change_amount REAL NOT NULL DEFAULT 0,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT,
  customer_id TEXT,
  customer_name TEXT,
  customer_rnc TEXT,
  discount_total REAL NOT NULL DEFAULT 0,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  invoice_no TEXT NOT NULL,
  invoice_type TEXT NOT NULL,
  itbis_total REAL NOT NULL DEFAULT 0,
  ncf TEXT,
  note TEXT,
  paid_amount REAL NOT NULL DEFAULT 0,
  payment_method TEXT,
  status TEXT NOT NULL,
  subtotal REAL NOT NULL,
  total REAL NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (customer_id) REFERENCES customers_legacy(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'change_amount', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_rnc', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'discount_total', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'invoice_no', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'invoice_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'itbis_total', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'ncf', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'paid_amount', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'payment_method', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'subtotal', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_stock_movements',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_stock_movements(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  note TEXT,
  product_id TEXT NOT NULL,
  qty_change REAL NOT NULL,
  ref_id TEXT,
  ref_type TEXT NOT NULL,
  unit_cost REAL NOT NULL DEFAULT 0,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (product_id) REFERENCES "Producto"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'product_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'qty_change', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'ref_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'ref_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'unit_cost', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'pos_suppliers',
    createSql: r'''CREATE TABLE IF NOT EXISTS pos_suppliers(
  address TEXT,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  email TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  name TEXT NOT NULL,
  phone TEXT,
  rnc TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'address', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'email', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'phone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'rnc', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'printer_settings',
    createSql: r'''CREATE TABLE IF NOT EXISTS printer_settings(
  copies INTEGER NOT NULL DEFAULT 1,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  paper_width_mm INTEGER NOT NULL DEFAULT 80,
  printer_name TEXT,
  strategy TEXT NOT NULL DEFAULT 'PDF_FALLBACK',
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'copies', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'paper_width_mm', type: 'INTEGER', nullable: false, defaultSql: '80'),
    OfflineColumnDef(name: 'printer_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'strategy', type: 'TEXT', nullable: false, defaultSql: '\'PDF_FALLBACK\''),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'product_maintenances',
    createSql: r'''CREATE TABLE IF NOT EXISTS product_maintenances(
  attachment_urls TEXT NOT NULL,
  cost REAL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT NOT NULL,
  deleted_at TEXT,
  description TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  internal_notes TEXT,
  issue_category TEXT,
  maintenance_type TEXT NOT NULL,
  producto_id TEXT NOT NULL,
  status_after TEXT NOT NULL,
  status_before TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  warranty_case_id TEXT,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (producto_id) REFERENCES "Producto"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (warranty_case_id) REFERENCES "WarrantyCase"(id),
  FOREIGN KEY (warranty_case_id) REFERENCES warranty_cases(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'attachment_urls', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'cost', type: 'REAL', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'description', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'internal_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'issue_category', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'maintenance_type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'producto_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status_after', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status_before', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'warranty_case_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'Producto',
    createSql: r'''CREATE TABLE IF NOT EXISTS "Producto"(
  allow_negative_stock INTEGER NOT NULL DEFAULT 0,
  brand TEXT,
  categoria_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  max_stock REAL NOT NULL DEFAULT 0,
  min_stock REAL NOT NULL DEFAULT 0,
  precio_compra REAL NOT NULL,
  precio_venta REAL NOT NULL,
  stock_qty REAL NOT NULL DEFAULT 0,
  supplier_id TEXT,
  total_cost REAL NOT NULL DEFAULT 0,
  total_price REAL NOT NULL DEFAULT 0,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (categoria_id) REFERENCES "CategoriaProducto"(id),
  FOREIGN KEY (supplier_id) REFERENCES "PosSupplier"(id),
  FOREIGN KEY (supplier_id) REFERENCES pos_suppliers(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'allow_negative_stock', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'brand', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'categoria_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'max_stock', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'min_stock', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'precio_compra', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'precio_venta', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'stock_qty', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'supplier_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'total_cost', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'total_price', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'ProductoItem',
    createSql: r'''CREATE TABLE IF NOT EXISTS "ProductoItem"(
  cantidad REAL NOT NULL DEFAULT 1,
  child_producto_id TEXT NOT NULL,
  costo_unitario REAL NOT NULL,
  id TEXT PRIMARY KEY,
  parent_producto_id TEXT NOT NULL,
  precio_unitario REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (parent_producto_id) REFERENCES "Producto"(id),
  FOREIGN KEY (child_producto_id) REFERENCES "Producto"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'cantidad', type: 'REAL', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'child_producto_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'costo_unitario', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'parent_producto_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'precio_unitario', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'punch_records',
    createSql: r'''CREATE TABLE IF NOT EXISTS punch_records(
  address_text TEXT,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  datetime_local TEXT,
  datetime_utc TEXT NOT NULL,
  deleted_at TEXT,
  device_id TEXT,
  device_name TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  is_manual_edit INTEGER NOT NULL DEFAULT 0,
  location_accuracy REAL,
  location_lat REAL,
  location_lng REAL,
  location_missing INTEGER NOT NULL DEFAULT 0,
  location_provider TEXT,
  note TEXT,
  platform TEXT,
  sync_status TEXT NOT NULL DEFAULT 'SYNCED',
  timezone TEXT,
  type TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'address_text', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'datetime_local', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'datetime_utc', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'device_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'device_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'is_manual_edit', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'location_accuracy', type: 'REAL', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'location_lat', type: 'REAL', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'location_lng', type: 'REAL', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'location_missing', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'location_provider', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'platform', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'sync_status', type: 'TEXT', nullable: false, defaultSql: '\'SYNCED\''),
    OfflineColumnDef(name: 'timezone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'quick_replies',
    createSql: r'''CREATE TABLE IF NOT EXISTS quick_replies(
  allow_comment INTEGER NOT NULL DEFAULT 1,
  category TEXT NOT NULL,
  content TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  id TEXT PRIMARY KEY,
  is_active INTEGER NOT NULL DEFAULT 1,
  keywords TEXT,
  title TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'allow_comment', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'category', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'content', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'is_active', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'keywords', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'title', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'quotation_items',
    createSql: r'''CREATE TABLE IF NOT EXISTS quotation_items(
  cantidad REAL NOT NULL,
  discount_amount REAL NOT NULL DEFAULT 0,
  discount_pct REAL NOT NULL DEFAULT 0,
  id TEXT PRIMARY KEY,
  line_subtotal REAL NOT NULL,
  line_total REAL NOT NULL,
  product_id TEXT,
  quotation_id TEXT NOT NULL,
  unit_cost REAL NOT NULL DEFAULT 0,
  unit_price REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (quotation_id) REFERENCES "Quotation"(id),
  FOREIGN KEY (product_id) REFERENCES "Producto"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'cantidad', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'discount_amount', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'discount_pct', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'line_subtotal', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'line_total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'product_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'quotation_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'unit_cost', type: 'REAL', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'unit_price', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'quotations',
    createSql: r'''CREATE TABLE IF NOT EXISTS quotations(
  created_by_user_id TEXT NOT NULL,
  customer_id TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  itbis_amount REAL NOT NULL,
  itbis_rate REAL NOT NULL DEFAULT 0.18,
  subtotal REAL NOT NULL,
  total REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (customer_id) REFERENCES "Customer"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'itbis_amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'itbis_rate', type: 'REAL', nullable: false, defaultSql: '0.18'),
    OfflineColumnDef(name: 'subtotal', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'rbac_permissions',
    createSql: r'''CREATE TABLE IF NOT EXISTS rbac_permissions(
  code TEXT PRIMARY KEY,
  description TEXT NOT NULL DEFAULT '',
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'code', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'description', type: 'TEXT', nullable: false, defaultSql: '\'\''),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'rbac_role_permissions',
    createSql: r'''CREATE TABLE IF NOT EXISTS rbac_role_permissions(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  permission_code TEXT NOT NULL,
  role_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  PRIMARY KEY (role_id, permission_code),
  FOREIGN KEY (role_id) REFERENCES rbac_roles(id),
  FOREIGN KEY (permission_code) REFERENCES rbac_permissions(code)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'permission_code', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'role_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'rbac_roles',
    createSql: r'''CREATE TABLE IF NOT EXISTS rbac_roles(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  is_system INTEGER NOT NULL DEFAULT 0,
  name TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'is_system', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'rbac_user_permission_overrides',
    createSql: r'''CREATE TABLE IF NOT EXISTS rbac_user_permission_overrides(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  effect TEXT NOT NULL,
  permission_code TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  PRIMARY KEY (user_id, permission_code),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (permission_code) REFERENCES rbac_permissions(code)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'effect', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'permission_code', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'rbac_user_roles',
    createSql: r'''CREATE TABLE IF NOT EXISTS rbac_user_roles(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  role_id TEXT NOT NULL,
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  PRIMARY KEY (user_id, role_id),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (role_id) REFERENCES rbac_roles(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'role_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'RulesContent',
    createSql: r'''CREATE TABLE IF NOT EXISTS "RulesContent"(
  category TEXT NOT NULL,
  content TEXT NOT NULL,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  is_active INTEGER NOT NULL DEFAULT 1,
  order_index INTEGER NOT NULL DEFAULT 0,
  role_visibility TEXT NOT NULL,
  title TEXT NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  visible_to_all INTEGER NOT NULL DEFAULT 1,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'category', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'content', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'is_active', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'order_index', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'role_visibility', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'title', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'visible_to_all', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'sale_evidence',
    createSql: r'''CREATE TABLE IF NOT EXISTS sale_evidence(
  caption TEXT,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  id TEXT PRIMARY KEY,
  sale_id TEXT NOT NULL,
  type TEXT NOT NULL,
  url_or_path TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (sale_id) REFERENCES "SalesRecord"(id),
  FOREIGN KEY (sale_id) REFERENCES sales(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'caption', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'sale_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'type', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'url_or_path', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'sales',
    createSql: r'''CREATE TABLE IF NOT EXISTS sales(
  amount REAL NOT NULL,
  channel TEXT NOT NULL DEFAULT 'other',
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT,
  customer_document TEXT,
  customer_id TEXT,
  customer_name TEXT,
  customer_phone TEXT,
  deleted INTEGER NOT NULL DEFAULT 0,
  deleted_at TEXT,
  details TEXT,
  detalles TEXT,
  empresa_id TEXT NOT NULL,
  evidence_required INTEGER NOT NULL DEFAULT 1,
  id TEXT PRIMARY KEY,
  notes TEXT,
  payment_method TEXT DEFAULT 'other',
  product_or_service TEXT NOT NULL,
  sold_at TEXT NOT NULL,
  status TEXT DEFAULT 'confirmed',
  sync_version INTEGER NOT NULL DEFAULT 1,
  thread_id TEXT,
  total REAL NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id),
  FOREIGN KEY (empresa_id) REFERENCES empresas(id),
  FOREIGN KEY (thread_id) REFERENCES crm_threads(id),
  FOREIGN KEY (customer_id) REFERENCES customers(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'amount', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'channel', type: 'TEXT', nullable: false, defaultSql: '\'other\''),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_document', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_phone', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'details', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'detalles', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'evidence_required', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'payment_method', type: 'TEXT', nullable: true, defaultSql: '\'other\''),
    OfflineColumnDef(name: 'product_or_service', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'sold_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'status', type: 'TEXT', nullable: true, defaultSql: '\'confirmed\''),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'sales_legacy',
    createSql: r'''CREATE TABLE IF NOT EXISTS sales_legacy(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT,
  customer_id TEXT,
  deleted_at TEXT,
  detalles TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  sync_version INTEGER NOT NULL DEFAULT 1,
  thread_id TEXT,
  total REAL NOT NULL,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (thread_id) REFERENCES "CrmThread"(id),
  FOREIGN KEY (customer_id) REFERENCES "Customer"(id),
  FOREIGN KEY (thread_id) REFERENCES crm_threads_legacy(id),
  FOREIGN KEY (customer_id) REFERENCES customers_legacy(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'customer_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'detalles', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'sync_version', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'thread_id', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'total', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'statutory_config',
    createSql: r'''CREATE TABLE IF NOT EXISTS statutory_config(
  active INTEGER NOT NULL DEFAULT 1,
  company_id TEXT NOT NULL,
  config TEXT NOT NULL,
  created_at TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  updated_at TEXT NOT NULL,
  year INTEGER NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (company_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'active', type: 'INTEGER', nullable: false, defaultSql: '1'),
    OfflineColumnDef(name: 'company_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'config', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'year', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'ui_settings',
    createSql: r'''CREATE TABLE IF NOT EXISTS ui_settings(
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  empresa_id TEXT NOT NULL,
  hide_sidebar INTEGER NOT NULL DEFAULT 0,
  id TEXT PRIMARY KEY,
  large_screen_mode INTEGER NOT NULL DEFAULT 0,
  scale REAL NOT NULL DEFAULT 1.0,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  user_id TEXT NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'hide_sidebar', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'large_screen_mode', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'scale', type: 'REAL', nullable: false, defaultSql: '1.0'),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'Usuario',
    createSql: r'''CREATE TABLE IF NOT EXISTS "Usuario"(
  empresa_id TEXT NOT NULL,
  fecha_ingreso_empresa TEXT,
  fecha_nacimiento TEXT,
  id TEXT PRIMARY KEY,
  licencia_conducir_fecha_vencimiento TEXT,
  metadata TEXT,
  salario_mensual REAL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'fecha_ingreso_empresa', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'fecha_nacimiento', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'licencia_conducir_fecha_vencimiento', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'metadata', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'salario_mensual', type: 'REAL', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'Venta',
    createSql: r'''CREATE TABLE IF NOT EXISTS "Venta"(
  cliente_id TEXT NOT NULL,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  monto REAL NOT NULL,
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (cliente_id) REFERENCES "Cliente"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'cliente_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'monto', type: 'REAL', nullable: false, defaultSql: null),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'warranty_cases',
    createSql: r'''CREATE TABLE IF NOT EXISTS warranty_cases(
  attachment_urls TEXT NOT NULL,
  closed_at TEXT,
  created_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  created_by_user_id TEXT NOT NULL,
  deleted_at TEXT,
  empresa_id TEXT NOT NULL,
  id TEXT PRIMARY KEY,
  problem_description TEXT NOT NULL,
  producto_id TEXT NOT NULL,
  received_date TEXT,
  resolution_notes TEXT,
  sent_date TEXT,
  supplier_name TEXT,
  supplier_ticket TEXT,
  updated_at TEXT NOT NULL DEFAULT (strftime('%Y-%m-%dT%H:%M:%fZ','now')),
  warranty_status TEXT NOT NULL DEFAULT 'ABIERTO',
  _sync_status TEXT NOT NULL DEFAULT 'synced',
  _sync_last_error TEXT,
  _local_updated_at INTEGER NOT NULL DEFAULT (CAST(strftime('%s','now') AS INTEGER) * 1000),
  _server_updated_at INTEGER,
  _deleted INTEGER NOT NULL DEFAULT 0,
  FOREIGN KEY (empresa_id) REFERENCES "Empresa"(id),
  FOREIGN KEY (producto_id) REFERENCES "Producto"(id),
  FOREIGN KEY (created_by_user_id) REFERENCES "Usuario"(id)
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'attachment_urls', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'closed_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'created_by_user_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'deleted_at', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'empresa_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'problem_description', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'producto_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'received_date', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'resolution_notes', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'sent_date', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'supplier_name', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'supplier_ticket', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'updated_at', type: 'TEXT', nullable: false, defaultSql: '(strftime(\'%Y-%m-%dT%H:%M:%fZ\',\'now\'))'),
    OfflineColumnDef(name: 'warranty_status', type: 'TEXT', nullable: false, defaultSql: '\'ABIERTO\''),
    OfflineColumnDef(name: '_sync_status', type: 'TEXT', nullable: false, defaultSql: '\'synced\''),
    OfflineColumnDef(name: '_sync_last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_local_updated_at', type: 'INTEGER', nullable: false, defaultSql: '(CAST(strftime(\'%s\',\'now\') AS INTEGER) * 1000)'),
    OfflineColumnDef(name: '_server_updated_at', type: 'INTEGER', nullable: true, defaultSql: null),
    OfflineColumnDef(name: '_deleted', type: 'INTEGER', nullable: false, defaultSql: '0'),
    ],
  ),
  OfflineTableDef(
    name: 'sync_outbox',
    createSql: r'''CREATE TABLE IF NOT EXISTS sync_outbox(
  id TEXT PRIMARY KEY,
  entity_table TEXT NOT NULL,
  entity_id TEXT NOT NULL,
  operation TEXT NOT NULL,
  payload TEXT NOT NULL,
  created_at INTEGER NOT NULL,
  attempts INTEGER NOT NULL DEFAULT 0,
  last_error TEXT,
  next_retry_at INTEGER
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity_table', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'operation', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'payload', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'created_at', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'attempts', type: 'INTEGER', nullable: false, defaultSql: '0'),
    OfflineColumnDef(name: 'last_error', type: 'TEXT', nullable: true, defaultSql: null),
    OfflineColumnDef(name: 'next_retry_at', type: 'INTEGER', nullable: true, defaultSql: null),
    ],
  ),
  OfflineTableDef(
    name: 'sync_state',
    createSql: r'''CREATE TABLE IF NOT EXISTS sync_state(
  table_name TEXT PRIMARY KEY,
  last_pulled_at INTEGER
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'table_name', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'last_pulled_at', type: 'INTEGER', nullable: true, defaultSql: null),
    ],
  ),
  OfflineTableDef(
    name: 'sync_conflicts',
    createSql: r'''CREATE TABLE IF NOT EXISTS sync_conflicts(
  id TEXT PRIMARY KEY,
  entity_table TEXT NOT NULL,
  entity_id TEXT NOT NULL,
  conflict_at INTEGER NOT NULL,
  local_payload TEXT NOT NULL,
  server_payload TEXT NOT NULL,
  note TEXT
);''',
    columns: const <OfflineColumnDef>[
    OfflineColumnDef(name: 'id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity_table', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'entity_id', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'conflict_at', type: 'INTEGER', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'local_payload', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'server_payload', type: 'TEXT', nullable: false, defaultSql: null),
    OfflineColumnDef(name: 'note', type: 'TEXT', nullable: true, defaultSql: null),
    ],
  ),
];

const offlineExtraIndexes = <String>[
  r'''CREATE INDEX IF NOT EXISTS idx_sync_outbox_next_retry_at ON sync_outbox(next_retry_at);''',
  r'''CREATE INDEX IF NOT EXISTS idx_sync_outbox_entity ON sync_outbox(entity_table, entity_id);''',
  r'''CREATE INDEX IF NOT EXISTS idx_sync_outbox_created_at ON sync_outbox(created_at);''',
];
